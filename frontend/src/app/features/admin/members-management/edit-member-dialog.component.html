<h2 class="text-2xl font-bold mb-6 text-dark">Modifier le membre</h2>

<form [formGroup]="editForm" (ngSubmit)="onSubmit()" class="space-y-6">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <!-- Prénom -->
    <div>
      <label class="block text-dark font-medium mb-2">Prénom *</label>
      <input 
        type="text" 
        formControlName="firstName" 
        required
        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all">
      <div *ngIf="editForm.get('firstName')?.hasError('required') && editForm.get('firstName')?.touched" 
           class="text-red-500 text-sm mt-1">
        Le prénom est requis
      </div>
    </div>

    <!-- Nom -->
    <div>
      <label class="block text-dark font-medium mb-2">Nom *</label>
      <input 
        type="text" 
        formControlName="lastName" 
        required
        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all">
      <div *ngIf="editForm.get('lastName')?.hasError('required') && editForm.get('lastName')?.touched" 
           class="text-red-500 text-sm mt-1">
        Le nom est requis
      </div>
    </div>

    <!-- Email -->
    <div>
      <label class="block text-dark font-medium mb-2">Email *</label>
      <input 
        type="email" 
        formControlName="email" 
        required
        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all">
      <div *ngIf="editForm.get('email')?.hasError('required') && editForm.get('email')?.touched" 
           class="text-red-500 text-sm mt-1">
        L'email est requis
      </div>
      <div *ngIf="editForm.get('email')?.hasError('email') && editForm.get('email')?.touched" 
           class="text-red-500 text-sm mt-1">
        Email invalide
      </div>
    </div>

    <!-- Téléphone -->
    <div>
      <label class="block text-dark font-medium mb-2">Téléphone</label>
      <input 
        type="tel" 
        formControlName="phone" 
        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all">
    </div>

    <!-- Rôle -->
    <div>
      <label class="block text-dark font-medium mb-2">Rôle *</label>
      <select 
        formControlName="role" 
        required
        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all bg-white">
        <option value="membre">Membre</option>
        <option value="bureau">Bureau</option>
        <option value="admin">Admin</option>
        <option value="visiteur">Visiteur</option>
      </select>
    </div>

    <!-- Statut -->
    <div>
      <label class="block text-dark font-medium mb-2">Statut</label>
      <div class="flex items-center mt-2">
        <input 
          type="checkbox" 
          formControlName="isActive"
          class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary">
        <label class="ml-2 text-gray-700">Membre actif</label>
      </div>
    </div>

    <!-- Adresse -->
    <div>
      <label class="block text-dark font-medium mb-2">Rue</label>
      <input 
        type="text" 
        formControlName="addressStreet" 
        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all">
    </div>

    <!-- Ville -->
    <div>
      <label class="block text-dark font-medium mb-2">Ville</label>
      <input 
        type="text" 
        formControlName="addressCity" 
        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all">
    </div>

    <!-- Code postal -->
    <div>
      <label class="block text-dark font-medium mb-2">Code postal</label>
      <input 
        type="text" 
        formControlName="addressPostalCode" 
        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all">
    </div>

    <!-- Mot de passe (optionnel) -->
    <div>
      <label class="block text-dark font-medium mb-2">Nouveau mot de passe (optionnel)</label>
      <div class="relative">
        <input 
          [type]="hidePassword ? 'password' : 'text'"
          formControlName="password" 
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all">
        <button 
          type="button"
          (click)="hidePassword = !hidePassword"
          class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700">
          <mat-icon>{{ hidePassword ? 'visibility' : 'visibility_off' }}</mat-icon>
        </button>
      </div>
      <p class="text-sm text-gray-500 mt-1">Laissez vide pour ne pas changer le mot de passe</p>
    </div>
  </div>

  <!-- Consentements -->
  <div class="space-y-2">
    <div class="flex items-center">
      <input 
        type="checkbox" 
        formControlName="consentAnnuaire"
        class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary">
      <label class="ml-2 text-gray-700">Consentement annuaire</label>
    </div>
    <div class="flex items-center">
      <input 
        type="checkbox" 
        formControlName="consentNewsletter"
        class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary">
      <label class="ml-2 text-gray-700">Consentement newsletter</label>
    </div>
  </div>

  <div class="flex justify-end space-x-4 pt-4">
    <button 
      type="button"
      (click)="onCancel()"
      class="px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors">
      Annuler
    </button>
    <button 
      type="submit"
      [disabled]="!editForm.valid"
      class="px-6 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
      <mat-icon>save</mat-icon>
      <span class="ml-2">Enregistrer</span>
    </button>
  </div>
</form>

